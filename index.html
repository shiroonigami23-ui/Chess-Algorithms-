<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Algorithm Racing & Learning Platform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body data-theme="dark">

    <div class="app-container">
        <!-- HEADER -->
        <header class="header">
            <h1 class="app-title">üèÅ Ultimate Algorithm Racing & Learning Platform</h1>
            <p class="app-subtitle">Compete Algorithms ‚Ä¢ Visualize Paths ‚Ä¢ Master Strategies ‚Ä¢ Race to Victory!</p>
        </header>

        <!-- MAIN CONTENT -->
        <main class="main-content">

            <!-- LEFT CONTROL PANEL -->
            <aside class="controls-panel">

                <!-- Theme -->
                <div class="control-group">
                    <label class="control-label">üé® Theme</label>
                    <div id="themeSelector" class="segmented-control">
                        <button data-theme="dark" class="theme-btn active">Dark</button>
                        <button data-theme="light" class="theme-btn">Light</button>
                        <button data-theme="wood" class="theme-btn">Wood</button>
                        <button data-theme="neon" class="theme-btn">Neon</button>
                    </div>
                </div>

                <!-- Mode Selector -->
                <div class="control-group">
                    <label class="control-label">üéØ Mode</label>
                    <div id="modeSelector" class="segmented-control-quad">
                        <button data-mode="tour" class="mode-btn">Tour</button>
                        <button data-mode="path" class="mode-btn">Path</button>
                        <button data-mode="heatmap" class="mode-btn">Heatmap</button>
                        <button data-mode="compare" class="mode-btn">Compare</button>
                        <button data-mode="race" class="mode-btn active">üèÅ Race</button>
                        <button data-mode="learn" class="mode-btn">üìö Learn</button>
                    </div>
                </div>

                <!-- Board Size -->
                <div class="control-group">
                    <label class="control-label">üìê Board: <span id="boardSizeLabel">8x8</span></label>
                    <input type="range" id="boardSize" class="slider" min="4" max="16" value="8" step="1">
                </div>

                <!-- Piece Selector -->
                <div class="control-group">
                    <label class="control-label">‚ôû Piece</label>
                    <select id="pieceSelect" class="control-input">
                        <option value="knight">‚ôû Knight</option>
                        <option value="rook">‚ôú Rook</option>
                        <option value="bishop">‚ôù Bishop</option>
                        <option value="queen">‚ôõ Queen</option>
                        <option value="king">‚ôö King</option>
                        <option value="pawn">‚ôü Pawn</option>
                    </select>
                </div>

                <!-- Race Mode Settings -->
                <div class="control-group" id="raceModeSettings">
                    <label class="control-label">üèÅ Race Settings</label>
                    <div class="race-settings">
                        <label class="checkbox-label">
                            <input type="checkbox" id="raceBFS" checked>
                            <span>BFS (Breadth-First)</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="raceDFS" checked>
                            <span>DFS (Depth-First)</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="raceAStar" checked>
                            <span>A* (Heuristic)</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="raceDijkstra" checked>
                            <span>Dijkstra</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="raceQuantum" checked>
                            <span>üîÆ Quantum</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="raceBidirectional">
                            <span>Bidirectional BFS</span>
                        </label>
                    </div>
                </div>

                <!-- Positions -->
                <div class="control-group">
                    <label class="control-label">üéØ Start Position</label>
                    <select id="startPos" class="control-input"></select>
                </div>

                <div class="control-group" id="endPosContainer">
                    <label class="control-label">üèÅ End Position</label>
                    <select id="endPos" class="control-input"></select>
                </div>

                <!-- Speed Control -->
                <div class="control-group">
                    <label class="control-label">‚ö° Speed: <span id="speedValue">1.0x</span></label>
                    <input type="range" id="speedSlider" class="slider" min="10" max="500" value="100" step="10">
                    <div class="speed-presets">
                        <button class="preset-btn" data-speed="10">0.1x</button>
                        <button class="preset-btn" data-speed="25">0.25x</button>
                        <button class="preset-btn" data-speed="50">0.5x</button>
                        <button class="preset-btn" data-speed="100">1x</button>
                        <button class="preset-btn" data-speed="200">2x</button>
                        <button class="preset-btn" data-speed="500">5x</button>
                    </div>
                </div>

                <!-- Visualization Options -->
                <div class="control-group">
                    <label class="control-label">üëÅÔ∏è Visualization</label>
                    <div class="viz-options">
                        <label class="checkbox-label">
                            <input type="checkbox" id="showAnimation" checked>
                            <span>Animate Exploration</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="showNumbers" checked>
                            <span>Show Distance Numbers</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="showPath" checked>
                            <span>Highlight Final Path</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="showStats" checked>
                            <span>üìä Live Statistics</span>
                        </label>
                    </div>
                </div>

                <!-- Playback Controls -->
                <div class="control-group" id="playbackControls" class="hidden">
                    <label class="control-label">üé¨ Playback</label>
                    <div class="playback-buttons">
                        <button id="playBtn" class="ctrl-btn">‚ñ∂Ô∏è Play</button>
                        <button id="pauseBtn" class="ctrl-btn">‚è∏Ô∏è Pause</button>
                        <button id="stepBtn" class="ctrl-btn">‚è≠Ô∏è Step</button>
                        <button id="restartBtn" class="ctrl-btn">üîÑ Restart</button>
                    </div>
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div id="progressFill" class="progress-fill"></div>
                        </div>
                        <span id="progressText" class="progress-text">Ready</span>
                    </div>
                </div>

                <!-- Calculate Button -->
                <button id="calculateBtn" class="calculate-btn">üöÄ Start Race / Calculate</button>

                <!-- Status -->
                <div id="statusBox" class="status-box">Ready to race! Select algorithms and click Start.</div>

                <!-- Race Leaderboard -->
                <div class="control-group" id="raceLeaderboard" class="hidden">
                    <label class="control-label">üèÜ Race Results</label>
                    <div id="leaderboardContent" class="leaderboard-content"></div>
                </div>

                <!-- Statistics -->
                <div class="control-group stats-panel" id="statsPanel">
                    <label class="control-label">üìä Statistics</label>
                    <div class="stat-grid" id="statsGrid">
                        <div class="stat-item">
                            <span class="stat-label">Path Length:</span>
                            <span class="stat-value" id="statPath">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Nodes Explored:</span>
                            <span class="stat-value" id="statNodes">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Time:</span>
                            <span class="stat-value" id="statTime">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Efficiency:</span>
                            <span class="stat-value" id="statEfficiency">-</span>
                        </div>
                    </div>
                </div>

                <!-- Algorithm Info -->
                <div class="control-group algo-info" id="algoInfo">
                    <label class="control-label">üìñ Algorithm Info</label>
                    <div class="algo-content" id="algoContent">
                        Select a mode and algorithm to see detailed explanation.
                    </div>
                </div>

                <!-- Actions -->
                <div class="control-group">
                    <div class="button-row">
                        <button id="shareBtn" class="action-btn">üì§ Share</button>
                        <button id="resetBtn" class="action-btn">üîÑ Reset</button>
                        <button id="saveBtn" class="action-btn">üíæ Save</button>
                    </div>
                </div>

                <!-- Export -->
                <div class="control-group">
                    <label class="control-label">üíæ Export</label>
                    <div class="export-buttons">
                        <button id="exportCsv" class="export-btn">CSV</button>
                        <button id="exportJson" class="export-btn">JSON</button>
                        <button id="exportImage" class="export-btn">PNG</button>
                    </div>
                </div>

            </aside>

            <!-- RIGHT BOARD AREA -->
            <section class="board-area">

                <!-- Single Board (Tour, Path, Heatmap) -->
                <div id="singleBoardView" class="single-board-view hidden">
                    <div class="board-wrapper">
                        <div id="mainBoard" class="chess-board"></div>
                        <svg id="mainSvg" class="path-svg"></svg>
                        <div id="mainPiece" class="animated-piece"></div>
                    </div>
                </div>

                <!-- Compare View -->
                <div id="compareView" class="compare-view hidden">
                    <div class="compare-container">
                        <div class="compare-item">
                            <h3 id="compareTitle1" class="compare-title">Algorithm 1</h3>
                            <div class="board-wrapper">
                                <div id="board1" class="chess-board"></div>
                            </div>
                        </div>
                        <div class="compare-item">
                            <h3 id="compareTitle2" class="compare-title">Algorithm 2</h3>
                            <div class="board-wrapper">
                                <div id="board2" class="chess-board"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Race View (Multiple Boards) -->
                <div id="raceView" class="race-view">
                    <div class="race-container" id="raceContainer">
                        <!-- Boards will be dynamically created here -->
                    </div>
                </div>

                <!-- Learn View -->
                <div id="learnView" class="learn-view hidden">
                    <div class="learn-content">
                        <h2>üìö Interactive Algorithm Learning</h2>
                        <div id="learnContent" class="learn-text">
                            <p>Welcome to the ultimate algorithm learning platform!</p>
                            <p>Select different modes to learn:</p>
                            <ul>
                                <li><strong>Race Mode:</strong> Watch algorithms compete in real-time</li>
                                <li><strong>Path Mode:</strong> See how different algorithms find paths</li>
                                <li><strong>Compare Mode:</strong> Side-by-side algorithm comparison</li>
                            </ul>
                        </div>
                    </div>
                </div>

            </section>
        </main>
    </div>

    <!-- Share Modal -->
    <div id="shareModal" class="modal-overlay hidden">
        <div class="modal-content">
            <h2 class="modal-title">üì§ Share Configuration</h2>
            <input type="text" id="shareInput" readonly class="share-input">
            <div class="modal-buttons">
                <button id="copyBtn" class="modal-btn primary">üìã Copy</button>
                <button id="closeModalBtn" class="modal-btn">‚úñÔ∏è Close</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="algorithms.js"></script>
    <script src="ui.js"></script>
    <script src="app.js"></script>
</body>
</html>