/* --- THEME DEFINITIONS --- */
:root {
    /* Base variables for easy access */
    --font-sans: 'Inter', sans-serif;
}

body[data-theme="dark"] {
    --color-bg-primary: #111827; /* gray-900 */
    --color-bg-secondary: #1f2937; /* gray-800 */
    --color-bg-tertiary: #374151; /* gray-700 */
    --color-text-primary: #f3f4f6; /* gray-100 */
    --color-text-secondary: #9ca3af; /* gray-400 */
    --color-border: #4b5563; /* gray-600 */
    --color-accent: #06b6d4; /* cyan-500 */
    --color-accent-hover: #0891b2; /* cyan-600 */
    --color-square-light: #e0f2fe; /* sky-100 */
    --color-square-dark: #075985; /* sky-800 */
    --color-piece: #ffffff;
    --board-shadow: 0 0 8px var(--color-accent), 0 0 16px var(--color-accent);
}

body[data-theme="light"] {
    --color-bg-primary: #f3f4f6; /* gray-100 */
    --color-bg-secondary: #ffffff;
    --color-bg-tertiary: #e5e7eb; /* gray-200 */
    --color-text-primary: #1f2937; /* gray-800 */
    --color-text-secondary: #4b5563; /* gray-600 */
    --color-border: #d1d5db; /* gray-300 */
    --color-accent: #0d9488; /* teal-600 */
    --color-accent-hover: #0f766e; /* teal-700 */
    --color-square-light: #ffffff;
    --color-square-dark: #d1d5db; /* gray-300 */
    --color-piece: #111827;
    --board-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

body[data-theme="wood"] {
    --color-bg-primary: #4a3728;
    --color-bg-secondary: #6f513c;
    --color-bg-tertiary: #5c4531;
    --color-text-primary: #f2e5d7;
    --color-text-secondary: #d4c2af;
    --color-border: #8e6e53;
    --color-accent: #c88a53;
    --color-accent-hover: #b07845;
    --color-square-light: #ebd8c1; /* Light wood */
    --color-square-dark: #a1662f; /* Dark wood */
    --color-piece: #ffffff;
    --board-shadow: 0 6px 15px rgba(0,0,0,0.4), inset 0 0 10px rgba(0,0,0,0.3);
}

/* --- BASE STYLES --- */
body {
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    font-family: var(--font-sans);
    transition: background-color 0.3s, color 0.3s;
}

#board {
    border: 2px solid var(--color-border);
    box-shadow: var(--board-shadow);
    transition: border-color 0.3s, box-shadow 0.3s;
}

.square { transition: background-color 0.3s ease; }
.square.light { background-color: var(--color-square-light); }
.square.dark { background-color: var(--color-square-dark); }

#animated-piece svg { fill: var(--color-piece); }

/* --- UI CONTROLS --- */
.control-input {
    width: 100%;
    background-color: var(--color-bg-tertiary);
    border: 1px solid var(--color-border);
    border-radius: 0.375rem;
    padding: 0.5rem 0.75rem;
    color: var(--color-text-primary);
}
.control-input:focus {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
}

/* Theme & Mode Buttons */
.theme-btn, .mode-btn {
    padding: 0.5rem;
    border-radius: 0.375rem;
    transition: background-color 0.2s, color 0.2s, box-shadow 0.2s;
    font-weight: 500;
    color: var(--color-text-secondary);
}
.theme-btn.active-theme, .mode-btn.active-mode {
    background-color: var(--color-accent);
    color: #ffffff;
    box-shadow: 0 0 10px var(--color-accent);
}

/* --- BOARD STATES & PATHS --- */
.square.current-path { background-color: #facc15 !important; } /* yellow-400 */
.square.visited { background-color: rgba(34, 197, 94, 0.6) !important; }
.square.start-point { background-color: rgba(56, 189, 248, 0.8) !important; }
.square.end-point { background-color: rgba(244, 63, 94, 0.8) !important; }
.square.selectable:hover { cursor: pointer; outline: 3px solid var(--color-accent); z-index: 10; }
#animated-piece svg { filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5)); }

#path-svg line { stroke-width: 3; stroke-linecap: round; opacity: 0.8; }
#path-svg.tour-path line { stroke: #f59e0b; }
#path-svg.path-path line { stroke: #ec4899; }

/* Generic Tailwind-like button styles */
.control-btn { font-weight: bold; padding: 0.5rem 1rem; border-radius: 0.375rem; transition: all 0.2s; color: white; }
.control-btn:disabled { background-color: #4b5563 !important; cursor: not-allowed; opacity: 0.7; }

/* Range Sliders */
input[type=range] { -webkit-appearance: none; appearance: none; width: 100%; cursor: pointer; background: transparent; }
input[type=range]:focus { outline: none; }
input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; height: 1.25rem; width: 1.25rem; background-color: var(--color-accent); border-radius: 9999px; border: 2px solid var(--color-bg-secondary); margin-top: -6px; }
input[type=range]::-moz-range-thumb { height: 1.25rem; width: 1.25rem; background-color: var(--color-accent); border-radius: 9999px; border: 2px solid var(--color-bg-secondary); }
input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 0.5rem; background-color: var(--color-bg-tertiary); border-radius: 9999px; }
input[type=range]::-moz-range-track { width: 100%; height: 0.5rem; background-color: var(--color-bg-tertiary); border-radius: 9999px; }
